<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="da" style="font-size: 100%">
<head>
	<title>fcoo.dk - leaflet-polyline - Demo</title>
	<meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta http-equiv='x-dns-prefetch-control' content='on'>

	<meta name='copyright' content='FCOO'>
	<meta name='owner' content='FCOO'>

    <link  href="bower_components.css" rel="stylesheet">
    <link  href="../src/leaflet-polyline.css" rel="stylesheet">
    <style>
        html, body, #map {
            padding: 0; margin: 0; width:100%; height:100%;
        }
    </style>

</head>

<body>
	<div id="map" style="cursor: pointer; _width: 800px; _height: 600px"></div>

	<script src="bower_components.js"></script>
	<script src="../src/leaflet-polyline.js"></script>

	<script>
    window.bsIsTouch = false;
    window.bsIsTouch = (window.location.search =='?touch');

    var map = L.map('map', {}).setView([56.2, 11.5], 8);
    L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 18,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors</a>'
    }).addTo(map);

    var polyLine = L.polyline([[56.5, 10.5], [57,12], [55,12]], {
width: 12,
            lineColorName: 'red',
            border: true,
            shadow: false,
            hover: true,
            transparent: true,
            shadowWhenPopupOpen: true,
            addInteractive: true,
            interactive: true,
        }).addTo(map);

    polyLine.bindTooltip('Tooltip');
    polyLine.bindPopup('Popup')


    var polygon = L.polygon([
            [[54.5, 1+10.5], [57,2+12], [55,2+12]],
            [[56.25, 12], [56.5,13.5], [55.8,14]]
        ], {

            colorName: 'green',
            borderColorName: 'black',
            border: true,
            shadow: true,
            _fill: true,
            hover: true,
            transparent: true,
            shadowWhenPopupOpen: true,

            addInteractive: true,
            interactive: true,
        }).addTo(map);

//HER     polygon.bindTooltip('Tooltip2')
    polygon.bindPopup('Popup2')

var COLOR = false;
map.on('dblclick', function(){
    COLOR = !COLOR;
    polygon.setColor(COLOR ? 'blue' : '');
});


var marker = L.marker([50,12]).addTo(map);

//HER polygon.on('mousemove', function(e){
//HER     marker.setLatLng(e.latlng);
//HER });

    //map.on('click', function(){ polyLine.setInteractive(); polygon.setInteractive(); });


    var data = {
        "type": "FeatureCollection",
        "features": [
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [9, 52]
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "LineString",
                "coordinates": [
                    [10, 56.0], [11, 57.0], [10, 58.0], [11, 57]
                ]
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Polygon",
                "coordinates": [
                    [[10, 54], [10, 55], [12, 55],[12, 54]]
                ]
            }
        }
        ]
    }

    L.geoJSON(data,{
        onEachFeature: function (feature, layer) {
//HER             layer.bindTooltip('Tooltip geoJSON');
            layer.bindPopup('popup geoJSON');
//HER             layer.on('mouseover', function () {
//HER                 console.log('mouseOVER');
//HER             });
//HER             layer.on('mouseout', function () {
//HER                 console.log('mouseOUT');
//HER             });
        },

        style: function(feature){
            return {
                polyline: {
                    lineColorName: "orange",
                    interactive: true,
                    hover: true,
                    border: true,
                    shadow:false,
                    transparent: false,
                }
            }
        },
        lineColorName: 'red',
        shadow: true,
        addInteractive: true,
        transparent: true,
        polygon: {
            colorName: 'red',
            borderColorName: "yellow",
            interactive: true,
            _hover: false,
            border: true,
            shadow:false,
            shadowWhenPopupOpen: true,
            onlyShowOnHover: true,
            transparent: false,
        }
    }).addTo(map);


	</script>
</body>
</html>
